<section class="calculator-page">
    <div class="container">
        <h2 class="banner-services__title">С помощью калькулятора вы можете узнать классы МКТУ, их количество, рассчитать полную стоимость для вашего случая</h2>

        <div class="calculator">
            <div class="calculator__caunt">
                <span>1</span>
                <span>/</span>
                <span>6</span>
            </div>

            <div class="calculator-container">
                <div  class="calculator__wrapper">
                    <div class="calculator__inner">
                        <div class="calculator__type">
                            <h2 class="calculator__title">тип товарного знака</h2>
                            <label class="">
                                <input type="radio" name="wordmark_option" value="100"checked>
                                Словесный
                            </label>
                            <label class="">
                                <input type="radio" name="wordmark_option" value="200">
                                Изобразительный
                            </label>
                            <label class="">
                                <input type="radio" name="wordmark_option" value="0">
                                Комбинированный
                            </label>
                        </div>

                        <div class="calculator__type">
                            <h2 class="calculator__title calculator__title-mb18">название товарного знака*</h2>
                            <label class="">
                                <input type="text" placeholder="Введите название">

                            </label>
                            <label class="calculator__file-input-label">
                                <input type="file" class="calculator__file-input">
                            </label>

                            <span class="calculator__optional">*Поле не является обязательным для заполнения</span>
                        </div>
                    </div>
                    <div class="calculator__inner">
                        <div class="calculator__logos">
                            <p>Примеры словесного товарного знака:</p>
                            <ul>
                                <li>
                                    <img src="/wp-content/themes/patent/images/logos/1/coca-cola.svg" alt="">
                                </li>
                                <li>
                                    <img src="/wp-content/themes/patent/images/logos/1/Google.svg" alt="">
                                </li>
                                <li>
                                    <img src="/wp-content/themes/patent/images/logos/1/Sony.svg" alt="">
                                </li>
                            </ul>
                        </div>

                        <div class="calculator__logos" style="display: none;">
                            <p>Примеры словесного товарного знака:</p>
                            <ul>
                                <li>
                                    <img src="/wp-content/themes/patent/images/logos/2/apple.svg" alt="">
                                </li>
                                <li>
                                    <img src="/wp-content/themes/patent/images/logos/2/mac.svg" alt="">
                                </li>
                                <li>
                                    <img src="/wp-content/themes/patent/images/logos/2/star.svg" alt="">
                                </li>
                            </ul>
                        </div>

                        <div class="calculator__logos" style="display: none;">
                            <p>Примеры словесного товарного знака:</p>
                            <ul>
                                <li>
                                    <img src="/wp-content/themes/patent/images/logos/3/adidas.svg" alt="">
                                </li>
                                <li>
                                    <img src="/wp-content/themes/patent/images/logos/3/king.svg" alt="">
                                </li>
                                <li>
                                    <img src="/wp-content/themes/patent/images/logos/3/peugeot.svg" alt="">
                                </li>
                            </ul>
                        </div>

                    </div>

                </div>


                <div style="display: none"  class="calculator__wrapper">
                    <div class="calculator__inner calculator__inner-2">
                        <div class="calculator__type">
                            <h2 class="calculator__title">Требуется ли предварительная проверка вашего товарного знака?</h2>
                            <div class="calculator__text">
                                Если вы не уверены в возможности регистрации вашего товарного знака,
                                его необходимо проверить. Мы проведем поиск сходных знаков, как уже зарегистрированных, так и заявок, поданных на регистрацию, а так же проверим
                                ваш знак на соответствие требованиям законодательства. Это значительно (до 95%) увеличивает вероятность того, что ваш знак будет зарегистрирован.
                            </div>
                            <label class="">
                                <input type="radio" name="wordmark2_option" value="200">
                                Да, требуется полная проверка моего товарного знака (3-4 дня).
                            </label>
                            <label class="">
                                <input type="radio" name="wordmark2_option" value="0">
                                Нет, не требуется. Мне известна возможность регистрации моего товарного знака.
                            </label>
                        </div>

                    </div>


                </div>

                <div style="display: none" class="calculator__wrapper">
                    <div class="calculator__inner calculator__inner-2">
                        <div class="calculator__type">
                            <h2 class="calculator__title">классы МКТУ</h2>
                            <div class="calculator__text calculator__text--w100">
                                Каждый товарный знак регистрируется в отношении определённых товаров
                                и услуг, распределенных по классам. Всего таких классов на сегодняшний день 45
                                (34 — товаров и 11 — услуг), они установлены Международной классификацией товаров и услуг для регистрации знаков (МКТУ). От того, в скольких классах будет регистрироваться знак, зависит пошлина за подачу заявки.
                            </div>
                            <div class="calculator__subtitle">Выберите классы МКТУ, в которых хотите проверить товарный знак</div>
                        </div>
                        <div class="calculator-box calculator-box-2">
                            <div class="calculator-box__wrapper calculator-box__wrapper--fb800">

                                <h3 class="calculator-box__title">Классы товаров</h3>
                                <div class="calculator-box__list">
                                    <div class="calculator-box__inner">
                                        <div class="calculator-box__items">

                                            <div class="calculator-box__item">
                                                <label for="modern-checkbox1"  class=""></label>
                                                <input type="checkbox" id="modern-checkbox1" value="100">
                                                <span>1</span>
                                            </div>

                                        </div>
                                        <div class="calculator-box__text">агрохимия, краски, ацетон;</div>
                                    </div>
                                </div>

                                <div class="calculator-box__list">
                                    <div class="calculator-box__inner">
                                        <div class="calculator-box__items">
                                            <div class="calculator-box__item">
                                                <label for="modern-checkbox2"  class=""></label>
                                                <input type="checkbox" id="modern-checkbox2" value="100">
                                                <span>2</span>
                                            </div>
                                        </div>

                                    </div>
                                </div>

                                <div class="calculator-box__list">
                                    <div class="calculator-box__inner">
                                        <div class="calculator-box__items">
                                            <div class="calculator-box__item">
                                                <label for="modern-checkbox3"  class=""></label>
                                                <input type="checkbox" id="modern-checkbox3" value="100">
                                                <span>3</span>
                                            </div>
                                        </div>
                                        <div class="calculator-box__text">одежда</div>
                                    </div>
                                </div>

                                <div class="calculator-box__list">
                                    <div class="calculator-box__inner">
                                        <div class="calculator-box__items">
                                            <div class="calculator-box__item">
                                                <label for="modern-checkbox4"  class=""></label>
                                                <input type="checkbox" id="modern-checkbox4" value="100">
                                                <span>4</span>
                                            </div>
                                            <div class="calculator-box__item">
                                                <label for="modern-checkbox5"  class=""></label>
                                                <input type="checkbox" id="modern-checkbox5" value="100">
                                                <span>5</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class="calculator-box__list">
                                    <div class="calculator-box__inner">
                                        <div class="calculator-box__items">
                                            <div class="calculator-box__item">
                                                <label for="modern-checkbox6"  class=""></label>
                                                <input type="checkbox" id="modern-checkbox6" value="100">
                                                <span>5</span>
                                            </div>
                                        </div>
                                        <div class="calculator-box__text">продукты питания</div>
                                    </div>
                                </div>
                                <div class="pt55"></div>
                                <h3 class="calculator-box__title">Классы услуг</h3>
                                <div class="calculator-box__list">
                                    <div class="calculator-box__inner">
                                        <div class="calculator-box__items">

                                            <div class="calculator-box__item">
                                                <label for="modern-checkbox7"  class=""></label>
                                                <input type="checkbox" id="modern-checkbox7" value="100">
                                                <span>1</span>
                                            </div>

                                        </div>
                                    </div>
                                </div>




                            </div>
                            <div class="calculator-box__wrapper calculator-box__wrapper--fb300">
                                <div class="calculator-helps">
                                    <label class="patent-form__custom-checkbox">
                                        <input type="checkbox" >
                                        <span class="patent-form__checkmark"></span>
                                        Мне нужна помощь в подборе
                                        классов МКТУ. Я хотел бы получить консультацию специалиста
                                    </label>

                                    <p class="calculator-helps__text">
                                        Телефон для консультации
                                        <a href="">+7 (926) 207-17-90</a>
                                        Пройдите калькулятор до конца
                                        и заполните заявку
                                    </p>

                                    <div class="calculator-helps__input-text">
                                        <div class="selected-count-block" id="selected-count">0</div>
                                        <span>Количество выбранных классов</span>
                                    </div>


                                </div>
                            </div>

                        </div>
                        <p class="calculator-helps__link">Чтобы ознакомиться более подробно с каждым классом,
                            <a  href="">перейдите на страницу МКТУ
                                <svg width="20" height="8" viewBox="0 0 20 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M19.3536 4.35355C19.5488 4.15829 19.5488 3.84171 19.3536 3.64645L16.1716 0.464466C15.9763 0.269204 15.6597 0.269204 15.4645 0.464466C15.2692 0.659728 15.2692 0.976311 15.4645 1.17157L18.2929 4L15.4645 6.82843C15.2692 7.02369 15.2692 7.34027 15.4645 7.53553C15.6597 7.7308 15.9763 7.7308 16.1716 7.53553L19.3536 4.35355ZM0 4.5H19V3.5H0V4.5Z" fill="#5671B2" />
                                </svg>
                            </a>
                        </p>
                    </div>


                </div>

                <div style="display: none"  class="calculator__wrapper">
                    <div class="calculator__inner calculator__inner-2">
                        <div class="calculator__type">
                            <h2 class="calculator__title">Выберите тип регистрации</h2>
                            <div class="calculator__text">
                                Обычно от 10 до 15 месяцев может занять регистрация, в некоторых случаях, требуется ускорить этот процесс, тогда мы можем приложить дополнительные усилия
                                и зарегистрировать за 2–3 месяца.
                            </div>
                            <label class="">
                                <input type="radio" name="wordmark3_option" value="300">
                                Стандартная регистрация 10-15 месяцев
                            </label>
                            <label class="">
                                <input type="radio" name="wordmark3_option" value="0">
                                Ускоренная регистрация 2-3 месяца*
                            </label>
                            <div class="calculator__text--min">*Увеличивает пошлину на 100 000 рублей</div>
                        </div>

                    </div>


                </div>

                <div style="display: none"  class="calculator__wrapper">
                    <div class="calculator__inner calculator__inner-2">
                        <div class="calculator__type">
                            <h2 class="calculator__title">Будете ли вы учувствовать в сохранении природы на планете?</h2>
                            <div class="calculator__text">
                                <span>Можно не получать готовое свидетельство на бумаге и сэкономить 1 400 руб.</span>
                                В этом случае будет только публикация в эл. реестре – ссылка
                                Но если по каким-либо причинам Вам важно его получить (доверие к системе), мысделаем это.
                            </div>
                            <label class="">
                                <input type="radio" name="wordmark4_option" value="400">
                                Получить свидетельство на бумаге
                            </label>
                            <label class="">
                                <input type="radio" name="wordmark4_option" value="0">
                                Получить свидетельство в электронном виде
                            </label>
                        </div>

                    </div>


                </div>

                <div style="display: none" class="calculator__wrapper calculator-value-inner">
                    <div class="calculator-value">
                        <div class="calculator__inner calculator__inner--sb">
                            <h2 class="calculator__title">Цена за наши услуги</h2>
                            <ul class="calculator-value__list calculator-value__list-js1">
                                <li>
                                    <p>
                                        <span class="calculator-value__span">Ваш товарный знак:</span>
                                        <span class="calculator-value__span calculator-value__span-bold">апр</span>
                                    </p>
                                </li>

                                <li>
                                    <p>
                                        <span class="calculator-value__span">Поиск:</span>
                                        <span class="calculator-value__span calculator-value__span-bold calculator-value__span-js-s1">1 000 ₽</span>
                                    </p>
                                </li>

                                <li>
                                    <p>
                                        <span class="calculator-value__span">Подача заявки и ведение дел</span>
                                        <span class="calculator-value__span calculator-value__span-bold calculator-value__span-js-s2">26 000 ₽</span>
                                    </p>
                                </li>

                                <li>
                                    <p>
                                        <span class="calculator-value__span">Получение свидетельства</span>
                                        <span class="calculator-value__span calculator-value__span-bold calculator-value__span-js-3">12 000 ₽</span>
                                    </p>
                                </li>

                                <li>
                                    <p>
                                        <span class="calculator-value__span">Итого:</span>
                                        <span class="calculator-value__span calculator-value__span-bold calculator-value__span-js-s-4">38 000 ₽</span>
                                    </p>
                                </li>
                            </ul>
                        </div>
                        <div class="calculator__inner calculator__inner--sb">
                            <div class="">
                                <h2 class="calculator__title">Пошлины Роспатента</h2>
                                <p class="calculator__subtitle-text">Размер пошлины зависит от количества классов МКТУ, которые вы указали при расчете.</p>
                            </div>
                            <ul class="calculator-value__list calculator-value__list-js2">
                                <li>
                                    <p>
                                        <span class="calculator-value__span">Подача заявки</span>
                                        <span class="calculator-value__span calculator-value__span-bold calculator-value__span-js-c-1">10 500 ₽</span>
                                    </p>
                                </li>

                                <li>
                                    <p>
                                        <span class="calculator-value__span">Получение свидетельства</span>
                                        <span class="calculator-value__span calculator-value__span-bold calculator-value__span-js-c-2">11 200 ₽</span>
                                    </p>
                                </li>

                                <li>
                                    <p>
                                        <span class="calculator-value__span">Итого:</span>
                                        <span class="calculator-value__span calculator-value__span-bold calculator-value__span-js-c-3">21 700 ₽</span>
                                    </p>
                                </li>

                            </ul>
                        </div>
                    </div>
                    <div class="calculator-value-bottom">
                        <p>Всего за регистрацию: <span class="total">59 700 ₽</span></p>
                    </div>
                </div>
            </div>






            <div class="calculator__inner-btn">
                <a style="display: none" class="calculator__end" href="#">
                    <svg width="11" height="12" viewBox="0 0 11 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0.46967 5.46967C0.176777 5.76256 0.176777 6.23744 0.46967 6.53033L5.24264 11.3033C5.53553 11.5962 6.01041 11.5962 6.3033 11.3033C6.59619 11.0104 6.59619 10.5355 6.3033 10.2426L2.06066 6L6.3033 1.75736C6.59619 1.46447 6.59619 0.989592 6.3033 0.696699C6.01041 0.403805 5.53553 0.403805 5.24264 0.696699L0.46967 5.46967ZM11 5.25L1 5.25L1 6.75L11 6.75L11 5.25Z" fill="#1E1D25" fill-opacity="0.6" />
                    </svg>
                    назад
                </a>

                <div style="display: none" class="calculator__questions">
                    остались вопросы? хотите получить услугу?
                    <span>
                        тогда оставьте заявку
                    <svg width="25" height="8" viewBox="0 0 25 8" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M24.3536 4.35355C24.5488 4.15829 24.5488 3.84171 24.3536 3.64645L21.1716 0.464466C20.9763 0.269204 20.6597 0.269204 20.4645 0.464466C20.2692 0.659728 20.2692 0.976311 20.4645 1.17157L23.2929 4L20.4645 6.82843C20.2692 7.02369 20.2692 7.34027 20.4645 7.53553C20.6597 7.7308 20.9763 7.7308 21.1716 7.53553L24.3536 4.35355ZM0 4.5H24V3.5H0V4.5Z" fill="#1E1D25" />
                    </svg>
                    </span>
                </div>

                <a class="calculator__next" href="#">
                    <span>далее</span>
                    <svg width="11" height="12" viewBox="0 0 11 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.5303 6.53033C10.8232 6.23744 10.8232 5.76256 10.5303 5.46967L5.75736 0.696699C5.46447 0.403806 4.98959 0.403806 4.6967 0.696699C4.40381 0.989593 4.40381 1.46447 4.6967 1.75736L8.93934 6L4.6967 10.2426C4.40381 10.5355 4.40381 11.0104 4.6967 11.3033C4.98959 11.5962 5.46447 11.5962 5.75736 11.3033L10.5303 6.53033ZM0 6.75H10V5.25H0V6.75Z" fill="white" />
                    </svg>
                </a>
            </div>
        </div>
    </div>
</section>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const addOptionHandler = groupName => {
            const inputs = document.querySelectorAll(`input[name="${groupName}"]`);
            inputs.forEach(input => {
                input.addEventListener('change', calculateTotal);
            });
        };

        const calculateTotal = () => {
            const radios = document.querySelectorAll('input[type="radio"]:checked');
            const checkboxes = document.querySelectorAll('.calculator-box__items input[type="checkbox"]:checked');

            let radioTotal = Array.from(radios).reduce((acc, radio) => acc + parseInt(radio.value), 0);
            let checkboxTotal = Array.from(checkboxes).reduce((acc, checkbox) => acc + parseInt(checkbox.value), 0);

            // Обновляем суммы в разметке для радио кнопок
            document.querySelector('.calculator-value__span-js-s-4').textContent = formatPrice(radioTotal);

            // Обновляем суммы в разметке для чекбоксов
            document.querySelector('.calculator-value__span-js-c-3').textContent = formatPrice(checkboxTotal);

            // Обновляем общую сумму в разметке
            const total = radioTotal + checkboxTotal;
            document.querySelector('.total').textContent = formatPrice(total);

            console.log('Общая сумма:', total);
        };

        const checkboxes = document.querySelectorAll('.calculator-box__items input[type="checkbox"]');
        const selectedCountDiv = document.getElementById('selected-count');

        const updateSelectedCount = () => {
            let selectedCount = 0;
            let totalValue = 0;

            checkboxes.forEach(checkbox => {
                if (checkbox.checked) {
                    selectedCount++;
                    totalValue += parseInt(checkbox.value);
                }
            });

            selectedCountDiv.textContent = selectedCount;
            console.log('Общая сумма выбранных: ', totalValue);
        };

        checkboxes.forEach((checkbox, index) => {
            checkbox.addEventListener('change', updateSelectedCount);
            checkbox.id = 'modern-checkbox' + (index + 1);
            checkbox.nextElementSibling.setAttribute('for', 'modern-checkbox' + (index + 1));
        });

        addOptionHandler('wordmark_option');
        addOptionHandler('wordmark2_option');
        addOptionHandler('wordmark3_option');
        addOptionHandler('wordmark4_option');

        // Функция для форматирования цены
        const formatPrice = price => {
            return price.toLocaleString('ru-RU') + ' ₽';
        };






    });

    // Получаем все радио-кнопки
    var radioButtons = document.querySelectorAll('input[name="wordmark_option"]');

    // Получаем все блоки с логотипами
    var logoBlocks = document.querySelectorAll('.calculator__logos');

    // Перебираем радио-кнопки
    radioButtons.forEach(function(radioButton, index) {
        // Назначаем обработчик события изменения для каждой кнопки
        radioButton.addEventListener('change', function() {
            // Скрываем все блоки с логотипами
            logoBlocks.forEach(function(logoBlock) {
                logoBlock.style.display = 'none';
            });

            // Показываем блок с логотипами, соответствующий выбранной радио-кнопке
            logoBlocks[index].style.display = 'block';
        });
    });

</script>
